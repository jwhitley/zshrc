# John Whitley's .local-zaliases
#   for Mac OS X
#
# created December 2004
#

alias find=gfind
alias_if_exist tower=gittower -s

if [[ ${+TMUX} -eq 1 && -n `command -v reattach-to-user-namespace` ]]; then
  wrapped=(open gittower)
  for wrap in $wrapped; do
    alias $wrap="reattach-to-user-namespace $wrap"
  done
fi

# Browser open shortcuts
alias safari="open -a '/Applications/Safari.app'"
alias ff="open -a '/Applications/Firefox.app'"
alias chrome="open -a '/Applications/Google Chrome.app'"
alias canary="open -a '/Applications/Google Chrome Canary.app'"

# Quick way to rebuild the Launch Services database and get rid
# of duplicates in the Open With submenu.
# via http://www.leancrew.com/all-this/2013/02/getting-rid-of-open-with-duplicates/
alias fixopenwith='/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -kill -r -domain local -domain system -domain user'

# via http://superuser.com/questions/447295
display-resolution () {
  system_profiler SPDisplaysDataType | grep Resolution
}

# Force a DHCP release/renew cycle
newip () {
    sudo ipconfig set en0 BOOTP
    sudo ipconfig set en0 DHCP
}

# Get the current ip address
getip () {
    ipconfig getifaddr en0
}

restart-dns () {
  sudo killall -HUP mDNSResponder
}

PGPREFIX=/usr/local
PGDIR=$PGPREFIX/var/postgres
PGDATA=$PGDIR/data
PGLOG=$PGDIR/log
alias startpg="$PGPREFIX/bin/pg_ctl start -D $PGDATA -l $PGLOG"
alias stoppg="$PGPREFIX/bin/pg_ctl stop -D $PGDATA"

MYSQLDIR=/usr/local/mysql
alias startmy="sudo -u mysql $MYSQLDIR/bin/mysqld_safe"
alias stopmy="sudo -u mysql $MYSQLDIR/bin/mysqladmin shutdown"

# vim: set ft=zsh
